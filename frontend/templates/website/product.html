{% extends 'website/base.html' %}
{% load static %}

{% block title %}PPF Product Showcase{% endblock %}

{% block body %}

<style>
  /* ======================================================
   ROLIIN OFFICIAL STYLESHEET (Palette + UI)
====================================================== */

  /* ================= ROOT ================= */
  :root {
    --brand: rgb(255, 145, 0);
    --brand2: rgb(255, 187, 0);

    --dark: #0b1220;
    --light: #ffffff;

    --muted: rgba(11, 18, 32, .65);
    --stroke: rgba(15, 23, 42, .10);

    --shadow-sm: 0 10px 22px rgba(2, 6, 23, .08);
    --shadow-md: 0 20px 55px rgba(2, 6, 23, .16);

    --radius-sm: 14px;
    --radius-lg: 26px;

    --transition: .25s ease;

    --rf-primary: rgb(255, 153, 0);
    --rf-primary-2: rgb(255, 187, 0);
    --rf-card: rgba(255, 255, 255, 0.92);
    --rf-stroke: rgba(255, 153, 0, 0.65);
    --rf-text: #0b1220;
    --rf-muted: rgba(11, 18, 32, 0.65);
    --rf-shadow: 0 20px 60px rgba(0, 0, 0, 0.18);
    --rf-transition: 240ms ease;
  }

  /* ================= RESET ================= */
  /* ===== Scoped reset ONLY for this page ===== */
  .ppf-page,
  .ppf-page *,
  .ppf-page *::before,
  .ppf-page *::after {
    box-sizing: border-box;
  }

  .ppf-page {
    /* keep your page background */
    background:
      radial-gradient(900px 360px at 20% 10%, rgba(255, 145, 0, .12), transparent 80%),
      radial-gradient(700px 360px at 80% 40%, rgba(255, 187, 0, .10), transparent 55%),
      linear-gradient(180deg, #f8fafc, #ffffff);
    color: var(--dark);
    line-height: 1.6;
    padding-bottom: 40px;
    /* optional, to match other pages */
  }

  /* Don’t override Bootstrap container */
  .ppf-page img {
    max-width: 100%;
    display: block;
  }

  .ppf-page a {
    text-decoration: none;
    color: inherit;
  }


  .text-brand {
    color: var(--brand) !important;
  }

  .badge-brand {
    background: linear-gradient(135deg, var(--brand), var(--brand2));
    color: #fff;
    border-radius: 999px;
    padding: .45rem .85rem;
    font-weight: 800;
    border: 1px solid rgba(255, 255, 255, .25);
  }

  .hidden {
    display: none;
  }

  .btn {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    gap: .55rem;
    padding: 12px 18px;
    font-weight: 800;
    border-radius: 50px;
    transition: var(--transition);
    border: 1px solid rgba(15, 23, 42, .10);
    background: #fff;
    cursor: pointer;
  }

  .btn-primary {
    background: linear-gradient(135deg, var(--brand), var(--brand2));
    border: none;
    color: #fff;
  }

  .btn-primary:hover {
    transform: translateY(-2px);
    box-shadow: var(--shadow-sm);
  }

  .btn-ghost {
    background: rgba(255, 255, 255, .72);
    border: 1px solid rgba(255, 145, 0, .35);
  }

  .btn-ghost:hover {
    transform: translateY(-2px);
    box-shadow: var(--shadow-sm);
  }

  .back-to-top {
    position: fixed;
    right: 22px;
    bottom: 22px;
    z-index: 99;
    display: none;
    border: none;
    border-radius: 999px;
    padding: 12px 14px;
    cursor: pointer;
    background: linear-gradient(135deg, var(--brand), var(--brand2));
    color: #fff;
    box-shadow: var(--shadow-md);
    transition: var(--transition);
  }

  .back-to-top:hover {
    transform: translateY(-2px);
  }

  /* ================= PAGE BACKDROP ================= */
  .ppf-page {
    background:
      radial-gradient(900px 360px at 20% 10%, rgba(255, 145, 0, .12), transparent 80%),
      radial-gradient(700px 360px at 80% 40%, rgba(255, 187, 0, .10), transparent 55%),
      linear-gradient(180deg, #f8fafc, #ffffff);
  }

  /* ================= HERO ================= */
  .hero {
    padding: 70px 0 26px 0;
  }

  .hero-grid {
    display: grid;
    grid-template-columns: 1.1fr .9fr;
    gap: 22px;
    align-items: center;
  }

  .hero h1 {
    font-size: clamp(2.15rem, 3.3vw, 3.15rem);
    line-height: 1.08;
    letter-spacing: -0.03em;
  }

  .hero p {
    margin-top: 12px;
    color: var(--muted);
    font-size: 1.05rem;
  }

  .hero-cta {
    margin-top: 18px;
    display: flex;
    gap: 12px;
    flex-wrap: wrap;
    align-items: center;
  }

  .small {
    font-size: .88rem;
    color: var(--muted);
    font-weight: 750;
  }

  .notice {
    margin-top: 14px;
    display: flex;
    gap: 10px;
    align-items: flex-start;
    padding: 12px 14px;
    border-radius: 16px;
    border: 1px solid rgba(255, 145, 0, .22);
    background: rgba(255, 255, 255, .70);
    color: rgba(11, 18, 32, .78);
    font-weight: 750;
  }

  .notice b {
    color: rgba(11, 18, 32, .92);
  }

  .hero-card {
    border-radius: var(--radius-lg);
    border: 1px solid rgba(255, 145, 0, .18);
    background: rgba(255, 255, 255, .80);
    box-shadow: var(--shadow-md);
    overflow: hidden;
    position: relative;
  }

  .hero-card::before {
    content: "";
    position: absolute;
    inset: -2px;
    background: radial-gradient(600px 240px at 20% 0%, rgba(255, 145, 0, .22), transparent 55%);
    pointer-events: none;
  }

  .hero-card-inner {
    position: relative;
    padding: 16px;
  }

  .hero-card img {
    width: 100%;
    height: 100%%;
    object-fit: cover;
    border-radius: 18px;
    border: 1px solid rgba(15, 23, 42, .08);
  }

  /* ================= SECTION ================= */
  .section {
    padding: 52px 0;
  }

  .section-header {
    display: flex;
    justify-content: space-between;
    align-items: flex-end;
    gap: 20px;
    flex-wrap: wrap;
    margin-bottom: 18px;
  }

  .section-header h2 {
    font-size: clamp(1.6rem, 2.6vw, 2.2rem);
    letter-spacing: -0.02em;
  }

  .section-header p {
    color: var(--muted);
    max-width: 60ch;
  }

  /* ================= PPF GRID (5 PRODUCTS) ================= */
  .ppf-grid {
    display: grid;
    grid-template-columns: repeat(12, 1fr);
    gap: 16px;
  }

  .ppf-item {
    grid-column: span 4;
    border: 1px solid var(--stroke);
    border-radius: var(--radius-lg);
    background: rgba(255, 255, 255, .82);
    box-shadow: var(--shadow-sm);
    overflow: hidden;
    transition: var(--transition);
  }

  .ppf-item:hover {
    transform: translateY(-4px);
    box-shadow: var(--shadow-md);
  }

  .ppf-media {
    height: 190px;
    margin: 14px 16px 0;
    border-radius: 18px;
    border: 1px solid rgba(15, 23, 42, .08);
    overflow: hidden;
    background: linear-gradient(135deg, rgba(11, 18, 32, .06), rgba(255, 255, 255, .5));
  }

  .ppf-media img {
    width: 100%;
    height: 100%;
    object-fit: cover;
  }

  .ppf-body {
    padding: 14px 16px 16px;
  }

  .ppf-title {
    display: flex;
    align-items: flex-start;
    justify-content: space-between;
    gap: 12px;
  }

  .ppf-title h3 {
    font-size: 1.12rem;
    letter-spacing: -0.01em;
  }

  .ppf-sub {
    margin-top: 6px;
    color: var(--muted);
    font-weight: 700;
    font-size: .95rem;
  }

  .ppf-tags {
    margin-top: 12px;
    display: flex;
    flex-wrap: wrap;
    gap: 8px;
  }

  .tag {
    font-size: .82rem;
    font-weight: 900;
    padding: 7px 10px;
    border-radius: 999px;
    border: 1px solid rgba(255, 145, 0, .22);
    background: rgba(255, 145, 0, .08);
    color: rgba(11, 18, 32, .88);
  }

  .ppf-actions {
    margin-top: 14px;
    display: flex;
    gap: 10px;
    flex-wrap: wrap;
  }


  .panel {
    border-radius: 18px;
    border: 1px solid rgba(15, 23, 42, .10);
    background: rgba(255, 255, 255, .86);
    padding: 14px;
  }

  .panel b {
    display: block;
    margin-bottom: 8px;
  }

  .spec-image {
    border-radius: 18px;
    overflow: hidden;
    border: 1px solid rgba(15, 23, 42, .10);
    background: #fff;
  }

  .spec-image img {
    width: 100%;
    height: auto;
    display: block;
  }

  /* Spec table */
  .spec-table {
    border-radius: 18px;
    overflow: hidden;
    border: 1px solid rgba(15, 23, 42, .10);
    background: rgba(255, 255, 255, .86);
  }

  .spec-table-head {
    display: grid;
    grid-template-columns: 1fr 1fr;
    background: linear-gradient(135deg, rgba(255, 145, 0, .20), rgba(255, 187, 0, .16));
    border-bottom: 1px solid rgba(15, 23, 42, .10);
  }

  .spec-table-head div {
    padding: 12px 14px;
    font-weight: 900;
    text-transform: uppercase;
    letter-spacing: .06em;
  }

  .spec-row2 {
    display: grid;
    grid-template-columns: 1fr 1fr;
    border-bottom: 1px dashed rgba(15, 23, 42, .10);
  }

  .spec-row2 div {
    padding: 12px 14px;
    font-weight: 800;
    color: rgba(11, 18, 32, .85);
  }

  .spec-row2:last-child {
    border-bottom: none;
  }

  /* ================= CONTACT FORM (Scoped) ================= */

  /* ================= FOOTER ================= */
  .footer {
    padding: 28px 0;
    border-top: 1px solid rgba(15, 23, 42, .08);
    color: var(--muted);
  }

  .footer-inner {
    display: flex;
    justify-content: space-between;
    gap: 14px;
    flex-wrap: wrap;
    align-items: center;
  }

  .footer b {
    color: rgba(11, 18, 32, .9);
  }

  /* ================= RESPONSIVE ================= */
  @media (max-width: 980px) {
    .hero-grid {
      grid-template-columns: 1fr;
    }

    .ppf-item {
      grid-column: span 6;
    }

    .modal-grid {
      grid-template-columns: 1fr;
    }
  }

  @media (max-width: 640px) {
    .ppf-item {
      grid-column: span 12;
    }
  }

  @media (max-width: 900px) {
    .roliin-form .form-grid {
      grid-template-columns: 1fr;
    }

    .roliin-form .form-row {
      grid-template-columns: 1fr;
    }

    .roliin-form .form-container {
      padding: 28px;
    }
  }

  /* ===== Unique modal names to avoid Bootstrap conflicts ===== */
  .ppf-modal-backdrop {
    position: fixed;
    inset: 0;
    background: rgba(2, 6, 23, .55);
    display: grid;
    place-items: center;
    z-index: 5000;
    /* above nav / bootstrap */
    padding: 20px;
  }

  .ppf-modal {
    width: min(1040px, 96vw);
    border-radius: 26px;
    background: rgba(255, 255, 255, .92);
    border: 1px solid rgba(255, 145, 0, .25);
    box-shadow: var(--shadow-md);
    overflow: hidden;
    position: relative;
  }

  .ppf-modal::before {
    content: "";
    position: absolute;
    inset: -2px;
    background: radial-gradient(740px 280px at 20% 0%, rgba(255, 145, 0, .22), transparent 55%);
    pointer-events: none;
  }

  .ppf-modal-inner {
    position: relative;
    padding: 18px;
  }

  .ppf-modal-head {
    display: flex;
    align-items: flex-start;
    justify-content: space-between;
    gap: 12px;
  }

  .ppf-modal-head h3 {
    font-size: 1.35rem;
    letter-spacing: -0.02em;
  }

  .ppf-modal-close {
    border: none;
    cursor: pointer;
    width: 40px;
    height: 40px;
    border-radius: 14px;
    background: rgba(255, 145, 0, .10);
    border: 1px solid rgba(255, 145, 0, .20);
    font-weight: 900;
    transition: var(--transition);
  }

  .ppf-modal-close:hover {
    transform: translateY(-2px);
    box-shadow: var(--shadow-sm);
  }

  .ppf-modal-grid {
    margin-top: 14px;
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 14px;
  }

  .ppf-panel {
    border-radius: 18px;
    border: 1px solid rgba(15, 23, 42, .10);
    background: rgba(255, 255, 255, .86);
    padding: 14px;
  }

  .ppf-panel b {
    display: block;
    margin-bottom: 8px;
  }

  .ppf-spec-image {
    border-radius: 18px;
    overflow: hidden;
    border: 1px solid rgba(15, 23, 42, .10);
    background: #fff;
  }

  .ppf-spec-image img {
    width: 100%;
    height: auto;
    display: block;
  }

  .ppf-spec-table {
    border-radius: 18px;
    overflow: hidden;
    border: 1px solid rgba(15, 23, 42, .10);
    background: rgba(255, 255, 255, .86);
  }

  .ppf-spec-table-head {
    display: grid;
    grid-template-columns: 1fr 1fr;
    background: linear-gradient(135deg, rgba(255, 145, 0, .20), rgba(255, 187, 0, .16));
    border-bottom: 1px solid rgba(15, 23, 42, .10);
  }

  .ppf-spec-table-head div {
    padding: 12px 14px;
    font-weight: 900;
    text-transform: uppercase;
    letter-spacing: .06em;
  }

  .ppf-spec-row {
    display: grid;
    grid-template-columns: 1fr 1fr;
    border-bottom: 1px dashed rgba(15, 23, 42, .10);
  }

  .ppf-spec-row div {
    padding: 12px 14px;
    font-weight: 800;
    color: rgba(11, 18, 32, .85);
  }

  .ppf-spec-row:last-child {
    border-bottom: none;
  }

  @media (max-width: 980px) {
    .ppf-modal-grid {
      grid-template-columns: 1fr;
    }
  }

  @media (max-width: 760px) {

    .ppf-spec-row,
    .ppf-spec-table-head {
      grid-template-columns: 1fr;
    }
  }
</style>

<main class="ppf-page">

  <!-- HERO -->
  <section class="hero" id="top">
    <div class="container hero-grid">
      <div>
        <span class="badge-brand">PPF SHOWCASE</span>
        <h1 style="margin-top:14px;">
          Paint Protection Film — <span class="text-brand">Protection Experience</span>
        </h1>
        <p>
          This page is built to showcase our PPF variants and their test specifications.
          <b>No pricing</b>, <b>no online sales</b> — only product display and enquiry.
        </p>

        <div class="hero-cta">


          <span class="small">Hydrophobic • UV tested • Premium TPU</span>
        </div>


      </div>

      <aside class="hero-card" aria-label="PPF visual">
        <div class="hero-card-inner">
          <!-- Replace with your real hero image -->
          <img src="{% static 'assets/img/productbox.png' %}" alt="PPF installed on vehicle surface">

        </div>
      </aside>
    </div>
  </section>

  <!-- PRODUCTS (5 items) -->
  <section class="section" id="products">
    <div class="container">
      <div class="section-header">
        <div>
          <h2>PPF Products</h2>
          <p>Click “View Specifications” to see each product’s spec image and test parameters.</p>
        </div>

      </div>

      <div class="ppf-grid">

        <!-- PRODUCT 1 -->
        <article class="ppf-item">
          <div class="ppf-media">
            <img src="{% static 'assets/img/product_card_img_1.png' %}" alt="ROLIIN PPF Product 1">
          </div>
          <div class="ppf-body">
            <div class="ppf-title">
              <div>
                <h3>PREMIUM MATTE SERIES</h3>
              </div>
              <span class="badge-brand">PPF</span>
            </div>
            <div class="ppf-tags">
              <span class="tag">7.5 mil 190 Microns</span>
              <span class="tag">280%</span>
              <span class="tag">ΔE ≤ 1.5</span>
            </div>
            <div class="ppf-actions">
              <button class="btn btn-primary" data-open="spec" data-product="p1">View Specifications</button>

            </div>
          </div>
        </article>

        <!-- PRODUCT 2 -->
        <article class="ppf-item">
          <div class="ppf-media">
            <img src="{% static 'assets/img/product_card_img_2.png' %}" alt="ROLIIN PPF Product 2">
          </div>
          <div class="ppf-body">
            <div class="ppf-title">
              <div>
                <h3>PREMIUM GlOSS SERIES</h3>
              </div>
              <span class="badge-brand">PPF</span>
            </div>
            <div class="ppf-tags">
              <span class="tag">7.5 mil 190 Microns</span>
              <span class="tag">295%</span>
              <span class="tag">ΔE ≤ 1.5</span>
            </div>
            <div class="ppf-actions">
              <button class="btn btn-primary" data-open="spec" data-product="p2">View Specifications</button>

            </div>
          </div>
        </article>

        <!-- PRODUCT 3 -->
        <article class="ppf-item">
          <div class="ppf-media">
            <img src="{% static 'assets/img/product_card_img_3.png' %}" alt="ROLIIN PPF Product 3">
          </div>
          <div class="ppf-body">
            <div class="ppf-title">
              <div>
                <h3>TITANIUM GLOSS SERIES</h3>
              </div>
              <span class="badge-brand">PPF</span>
            </div>
            <div class="ppf-tags">
              <span class="tag">8.5 mil 190 Microns</span>
              <span class="tag">355%</span>
              <span class="tag">ΔE ≤ 1.5</span>
            </div>
            <div class="ppf-actions">
              <button class="btn btn-primary" data-open="spec" data-product="p3">View Specifications</button>

            </div>
          </div>
        </article>

        <!-- PRODUCT 4 -->
        <article class="ppf-item">
          <div class="ppf-media">
            <img src="{% static 'assets/img/product_card_img_4.png' %}" alt="ROLIIN PPF Product 4">
          </div>
          <div class="ppf-body">
            <div class="ppf-title">
              <div>
                <h3>PIANO BLACK COLOR PPF SERIES</h3>
              </div>
              <span class="badge-brand">PPF</span>
            </div>
            <div class="ppf-tags">
              <span class="tag">7.5 mil 190 Microns</span>
              <span class="tag">280%</span>
              <span class="tag">ΔE ≤ 1.5</span>
            </div>
            <div class="ppf-actions">
              <button class="btn btn-primary" data-open="spec" data-product="p4">View Specifications</button>

            </div>
          </div>
        </article>

        <!-- PRODUCT 5 -->
        <article class="ppf-item">
          <div class="ppf-media">
            <img src="{% static 'assets/img/product_card_img_5.png' %}" alt="ROLIIN PPF Product 5">
          </div>
          <div class="ppf-body">
            <div class="ppf-title">
              <div>
                <h3>CHARCOAL BLACK COLOR PPF SERIES</h3>
              </div>
              <span class="badge-brand">PPF</span>
            </div>
            <div class="ppf-tags">
              <span class="tag">7.5 mil 190 Microns</span>
              <span class="tag">280%</span>
              <span class="tag">ΔE ≤ 1.5</span>
            </div>
            <div class="ppf-actions">
              <button class="btn btn-primary" data-open="spec" data-product="p5">View Specifications</button>

            </div>
          </div>
        </article>

      </div>
    </div>
  </section>


  <!-- FOOTER -->

</main>

<!-- BACK TO TOP -->
<button class="back-to-top" id="backToTop" aria-label="Back to top">↑</button>

<!-- SPEC MODAL (IMAGE + TABLE) -->
<div id="specModal" class="hidden" aria-hidden="true">
  <div class="ppf-modal-backdrop" role="dialog" aria-modal="true" aria-label="PPF specifications">
    <div class="ppf-modal">
      <div class="ppf-modal-inner">

        <div class="ppf-modal-head">
          <div>
            <span class="badge-brand" id="specBadge">PPF</span>
            <h3 id="specTitle" style="margin-top:10px;">PPF Specifications</h3>
            <div class="small" id="specSubtitle">Demo test parameters</div>
          </div>
          <button class="ppf-modal-close" id="closeSpec" aria-label="Close">×</button>
        </div>

        <div class="ppf-modal-grid">
          <!-- LEFT: SPEC IMAGE -->
          <div class="ppf-panel">
            <b>Specification Image</b>
            <div class="ppf-spec-image">
              <img id="specImg" src="" alt="PPF specification image">
            </div>
            
          </div>

          <!-- RIGHT: TABLE -->
          <div class="ppf-panel">
            <b>Test Table</b>
            <div class="ppf-spec-table">
              <div class="ppf-spec-table-head">
                <div>Parameter</div>
                <div>Test Method</div>
              </div>
              <div id="specRows"></div>
            </div>
          </div>
        </div>

        <div style="margin-top:14px; display:flex; gap:10px; flex-wrap:wrap;">

          <a class="btn btn-ghost" href="#products" onclick="hideSpec()">Back to Products</a>
        </div>

      </div>
    </div>
  </div>
</div>

<script>
  // Year (safe)
  const yearEl = document.getElementById("year");
  if (yearEl) yearEl.textContent = new Date().getFullYear();

  // Back to top
  const backToTop = document.getElementById("backToTop");
  if (backToTop) {
    window.addEventListener("scroll", () => {
      backToTop.style.display = (window.scrollY > 600) ? "inline-flex" : "none";
    });
    backToTop.addEventListener("click", () => window.scrollTo({ top: 0, behavior: "smooth" }));
  }

  // ===== Specs Modal (Image + Table) =====
  const specModal = document.getElementById("specModal");
  const closeSpec = document.getElementById("closeSpec");
  const specTitle = document.getElementById("specTitle");
  const specSubtitle = document.getElementById("specSubtitle");
  const specRows = document.getElementById("specRows");
  const specImg = document.getElementById("specImg");

  const specs = {
    p1: {
      title: "PREMIUM MATTE SERIES",
      specImg: "{% static 'assets/img/product_card_img_1.png' %}",
      rows: [
        ["Thickness", "7.5 mil 190 Microns"],
        ["EB", "295%"],
        ["QUV", "ΔE ≤ 1.5"],
        ["TPU", "Covestro"],
        ["Adhesive", "Ashland USA"],
        ["Remark", "Hydrophobic"],
        ["Length", "16 Meter"],
        ["Warranty", "5 Years"],
      ],
    },
    p2: { title: "PREMIUM GlOSS SERIES", specImg: "{% static 'assets/img/product_card_img_2.png' %}", rows: [["Thickness", "7.5 mil 190 Microns"], ["EB", "295%"], ["QUV", "ΔE ≤ 1.5"], ["TPU", "Covestro"], ["Adhesive", "Ashland USA"], ["Remark", "Hydrophobic"], ["Length", "16 Meter"], ["Warranty", "5 Years"]] },
    p3: { title: "TITANIUM GLOSS SERIES", specImg: "{% static 'assets/img/product_card_img_3.png' %}", rows: [["Thickness", "8.5 mil 190 Microns"], ["EB", "355%"], ["QUV", "ΔE ≤ 1.5"], ["TPU", "Lubrizol"], ["Adhesive", "Ashland USA"], ["Remark", "Hydrophobic"], ["Length", "16 Meter"], ["Warranty", "10 Years"]] },
    p4: { title: "PIANO BLACK COLOR PPF SERIES", specImg: "{% static 'assets/img/product_card_img_4.png' %}", rows: [["Thickness", "7.5 mil 190 Microns"], ["EB", "280%"], ["QUV", "ΔE ≤ 1.5"], ["TPU", "Covestro"], ["Adhesive", "Ashland USA"], ["Remark", "Hydrophobic"], ["Length", "16 Meter"], ["Warranty", "5 Years"]] },
    p5: { title: "CHARCOAL BLACK COLOR PPF SERIES", specImg: "{% static 'assets/img/product_card_img_5.png' %}", rows: [["Thickness", "7.5 mil 190 Microns"], ["EB", "280%"], ["QUV", "ΔE ≤ 1.5"], ["TPU", "Covestro"], ["Adhesive", "Ashland USA"], ["Remark", "Hydrophobic"], ["Length", "16 Meter"], ["Warranty", "5 Years"]] },
  };

  function openSpec(key) {
    const d = specs[key];
    if (!d) return;

    specTitle.textContent = d.title;
    specSubtitle.textContent = d.subtitle;

    specImg.src = d.specImg;
    specImg.alt = d.title + " specification image";

    specRows.innerHTML = d.rows.map(([k, v]) => `
      <div class="ppf-spec-row">
        <div>${k}</div>
        <div><b>${v}</b></div>
      </div>
    `).join("");

    specModal.classList.remove("hidden");
    specModal.setAttribute("aria-hidden", "false");
    document.body.style.overflow = "hidden";
  }

  function hideSpec() {
    specModal.classList.add("hidden");
    specModal.setAttribute("aria-hidden", "true");
    document.body.style.overflow = "";
  }

  window.hideSpec = hideSpec;

  document.querySelectorAll('[data-open="spec"]').forEach(btn => {
    btn.addEventListener("click", () => openSpec(btn.dataset.product));
  });

  closeSpec.addEventListener("click", hideSpec);

  // Click outside closes
  specModal.addEventListener("click", (e) => {
    if (e.target.classList.contains("ppf-modal-backdrop")) hideSpec();
  });

  // ESC closes
  document.addEventListener("keydown", (e) => {
    if (e.key === "Escape" && !specModal.classList.contains("hidden")) hideSpec();
  });
</script>


{% endblock %}